<mvc:View
  controllerName="movies.app.controller.Login"
  xmlns:mvc="sap.ui.core.mvc"
  xmlns="sap.m"
  xmlns:f="sap.f"
  xmlns:core="sap.ui.core">

  <Page id="_IDGenPage1" title="Home">
    <content>
      <f:GridList id="_IDGenGridList"
        width="100%"
        itemPress=".onPressMovie"
        items="{
          path: '/Movies',
          parameters: {
            $expand: 'genres'
          }
        }"
        customLayout="
          f:GridContainerSettings{
            rowSize: 10,
            columnSize: 45,
            gap: 1
          }">

        <f:GridListItem id="_IDGenGridListItem" type="Active">
          <HBox id="_IDGenHBox10" class="movieCard">
            <!-- Poster -->
            {homepage}

            <!-- Right Pane -->
            <VBox id="_IDGenVBox19" width="100%" renderType="Bare">
              <!-- Title -->
              <Title id="_IDGenTitle1" text="{title}" level="H4"/>

              <!-- Genres -->
              <HBox id="_IDGenHBox11" class="sapUiSmallMarginBottom">
                <ObjectStatus id="_IDGenObjectStatus"
                  text="{= ${genres/name} ? ${genres/name} : 'â€”'}"
                  state="None"
                />
              </HBox>

              <!-- Overview -->
              <Text id="_IDGenText7"
                text="{path: 'overview', formatter: '.fmtTruncate'}"
                maxLines="3"
                class="sapUiTinyMarginBottom"/>

              <!-- Rating + Runtime/Year -->
              <HBox id="_IDGenHBox12" alignItems="Center" class="sapUiTinyMarginBottom">
                <RatingIndicator id="_IDGenRatingIndicator" value="{= ${avgRating} || 0 }" maxValue="5" visualMode="Half" enabled="false"/>
                <ObjectNumber id="_IDGenObjectNumber1" number="{= ${avgRating} ? ${avgRating}.toFixed(1) : '0.0' }" unit="â˜…" class="sapUiTinyMarginBegin"/>
                <ObjectStatus id="_IDGenObjectStatus2" text="{= ${numReviews} + ' reviews'}" class="sapUiTinyMarginBegin"/>
              </HBox>

              <HBox id="_IDGenHBox13" wrap="Wrap">
                <ObjectStatus id="_IDGenObjectStatus3" text="{= ${releaseYear} }" class="sapUiTinyMarginEnd"/>
                <ObjectStatus id="_IDGenObjectStatus4" text="{= ${runtimeMin} + ' min' }" class="sapUiTinyMarginEnd"/>
                {homepage}
              </HBox>

              <!-- Cast chips -->
              <!-- Option A: normalized cast list -->
              <!-- <HBox id="_IDGenHBox14" class="sapUiSmallMarginTop" wrap="Wrap" items="{casts}">
                <ObjectStatus id="_IDGenObjectStatus5" text="{name}" state="None" class="sapUiTinyMarginEnd"/>
              </HBox> -->

              <!-- Option B: if you kept array, comment Option A block and use a FormattedText (HTML chips) via formatter -->
              
              <FormattedText id="_IDGenFormattedText"
                class="sapUiSmallMarginTop"
                htmlText="{path: 'cast', formatter: '.fmtCastChipsHTML'}"/>
             
            </VBox>
          </HBox>
        </f:GridListItem>

      </f:GridList>
    </content>
  </Page>
</mvc:View>

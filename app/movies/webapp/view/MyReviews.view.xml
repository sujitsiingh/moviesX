<mvc:View
  controllerName="movies.controller.Login"
  xmlns:mvc="sap.ui.core.mvc"
  xmlns="sap.m"
  xmlns:core="sap.ui.core">

  <Page id="myReviewsPage" title="My Reviews" showNavButton="true" navButtonPress=".onNavBack">
    <headerContent>
      <Button id="_IDGenButton9" icon="sap-icon://add" text="Add" type="Emphasized" press=".onAddPress"/>
    </headerContent>

    <content>
      <List id="reviewsList"
            mode="None"
            items="{
              path: '/Reviews',
              parameters: { 
                $expand: {
                  movie: {
                    $select: ['ID','title']
                  }
                },
                $select: ['ID','name','rating','comment','modifiedAt', 'movie_ID','user_ID']
              }
            }"
        >
            
        <ObjectListItem id="_IDGenObjectListItem"
          title="{name}"
          number="{path: 'rating'}"
          numberUnit="â˜…"
          intro="{= ${movie/title} ? 'Movie: ' + ${movie/title} : '' }"
          >

          <firstStatus>
            <ObjectStatus id="_IDGenObjectStatus1" text="Updated: {path: 'modifiedAt', type: 'sap.ui.model.type.DateTime', formatOptions: { style: 'medium' }}"/>
          </firstStatus>

          <attributes>
            <ObjectAttribute id="_IDGenObjectAttribute" title="Comment" text="{ path: 'comment', formatter: '._formatCommentAttr' }"></ObjectAttribute>
          </attributes>

        </ObjectListItem>
      </List>
    </content>
  </Page>
</mvc:View>
